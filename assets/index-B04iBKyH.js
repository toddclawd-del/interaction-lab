import{r as s,j as e,L as y}from"./index-CUd0y5HU.js";import{g as x}from"./index-C8pce-KX.js";import{S as b}from"./ScrollTrigger-D1XJUMov.js";x.registerPlugin(b);function l({from:o=0,to:r,duration:a=2,decimals:n=0,prefix:i="",suffix:d="",easing:m="power2.out",triggerOnScroll:u=!1,className:h=""}){const c=s.useRef(null),g=s.useRef({val:o});return s.useEffect(()=>{const p=c.current;if(!p)return;if(window.matchMedia("(prefers-reduced-motion: reduce)").matches){p.textContent=`${i}${r.toFixed(n)}${d}`;return}const f={val:r,duration:a,ease:m,onUpdate:()=>{p.textContent=`${i}${g.current.val.toFixed(n)}${d}`}};return u?x.to(g.current,{...f,scrollTrigger:{trigger:p,start:"top 85%",toggleActions:"play none none none"}}):x.to(g.current,f),()=>{g.current.val=o}},[o,r,a,n,i,d,m,u]),e.jsxs("span",{ref:c,className:h,children:[i,o.toFixed(n),d]})}function j({digit:o,isActive:r}){const a=[0,1,2,3,4,5,6,7,8,9],n=s.useRef(null);return s.useEffect(()=>{if(!n.current||!r)return;const i=window.matchMedia("(prefers-reduced-motion: reduce)").matches;x.to(n.current,{y:`-${o*10}%`,duration:i?0:.8+Math.random()*.4,ease:"elastic.out(1, 0.5)"})},[o,r]),e.jsx("div",{style:t.odometerColumn,children:e.jsx("div",{ref:n,style:t.odometerDigits,children:a.map(i=>e.jsx("div",{style:t.odometerDigit,children:i},i))})})}function v({value:o,isActive:r}){const a=o.toString().padStart(6,"0").split("").map(Number);return e.jsx("div",{style:t.odometerContainer,children:a.map((n,i)=>e.jsx(j,{digit:n,isActive:r},i))})}function T(){const o=s.useRef(null),[r,a]=s.useState(0),[n,i]=s.useState(0),[d,m]=s.useState(!1),u=()=>a(c=>c+1),h=()=>{const c=Math.floor(Math.random()*999999);i(c),m(!0)};return e.jsxs("div",{ref:o,style:t.container,children:[e.jsx(y,{to:"/",style:t.backButton,children:"â† Back"}),e.jsxs("header",{style:t.header,children:[e.jsx("h1",{style:t.title,children:"Counter Lab"}),e.jsx("p",{style:t.subtitle,children:"Different approaches to animating numbers with GSAP"})]}),e.jsxs("div",{style:t.demos,children:[e.jsxs("section",{style:t.section,children:[e.jsxs("div",{style:t.sectionHeader,children:[e.jsx("span",{style:t.sectionNumber,children:"01"}),e.jsx("h2",{style:t.sectionTitle,children:"Basic Counter with Easing"}),e.jsx("p",{style:t.sectionDesc,children:"Smooth count-up using GSAP's easing functions"})]}),e.jsx("div",{style:t.counterDisplay,children:e.jsx(l,{from:0,to:1847,duration:2.5,suffix:" users",easing:"power2.out"},`basic-${r}`)}),e.jsx("div",{style:t.controls,children:e.jsx("button",{style:t.button,onClick:u,"aria-label":"Replay counter animation",children:"Replay Animation"})}),e.jsx("div",{style:t.easingOptions,children:e.jsx("span",{style:t.label,children:"Easing: power2.out"})})]}),e.jsxs("section",{style:t.section,children:[e.jsxs("div",{style:t.sectionHeader,children:[e.jsx("span",{style:t.sectionNumber,children:"02"}),e.jsx("h2",{style:t.sectionTitle,children:"Decimal Precision"}),e.jsx("p",{style:t.sectionDesc,children:"Counting with decimal places for percentages, currencies, etc."})]}),e.jsxs("div",{style:t.decimalGrid,children:[e.jsxs("div",{style:t.decimalCard,children:[e.jsx("span",{style:t.decimalLabel,children:"Percentage"}),e.jsx(l,{from:0,to:98.7,duration:2,decimals:1,suffix:"%",easing:"power3.out"},`pct-${r}`)]}),e.jsxs("div",{style:t.decimalCard,children:[e.jsx("span",{style:t.decimalLabel,children:"Currency"}),e.jsx(l,{from:0,to:12499.99,duration:2.5,decimals:2,prefix:"$",easing:"power2.inOut"},`curr-${r}`)]}),e.jsxs("div",{style:t.decimalCard,children:[e.jsx("span",{style:t.decimalLabel,children:"Rating"}),e.jsx(l,{from:0,to:4.9,duration:1.5,decimals:1,suffix:" / 5",easing:"elastic.out(1, 0.5)"},`rate-${r}`)]})]})]}),e.jsxs("section",{style:t.section,children:[e.jsxs("div",{style:t.sectionHeader,children:[e.jsx("span",{style:t.sectionNumber,children:"03"}),e.jsx("h2",{style:t.sectionTitle,children:"Slot Machine / Odometer"}),e.jsx("p",{style:t.sectionDesc,children:"Individual digit columns that spin like a mechanical counter"})]}),e.jsx("div",{style:t.odometerDisplay,children:e.jsx(v,{value:n,isActive:d})}),e.jsx("div",{style:t.controls,children:e.jsx("button",{style:t.button,onClick:h,"aria-label":"Generate random number for odometer display",children:"Generate Random Number"})})]}),e.jsxs("section",{style:t.section,children:[e.jsxs("div",{style:t.sectionHeader,children:[e.jsx("span",{style:t.sectionNumber,children:"04"}),e.jsx("h2",{style:t.sectionTitle,children:"Scroll-Triggered Stats"}),e.jsx("p",{style:t.sectionDesc,children:"Numbers animate when they scroll into view (scroll down to trigger)"})]}),e.jsxs("div",{style:t.statsGrid,children:[e.jsxs("div",{style:t.statCard,children:[e.jsx("div",{style:t.statValue,children:e.jsx(l,{from:0,to:150,duration:2,suffix:"+",easing:"power2.out",triggerOnScroll:!0})}),e.jsx("div",{style:t.statLabel,children:"Projects Completed"})]}),e.jsxs("div",{style:t.statCard,children:[e.jsx("div",{style:t.statValue,children:e.jsx(l,{from:0,to:2.5,duration:2,decimals:1,suffix:"M",easing:"power2.out",triggerOnScroll:!0})}),e.jsx("div",{style:t.statLabel,children:"Users Reached"})]}),e.jsxs("div",{style:t.statCard,children:[e.jsx("div",{style:t.statValue,children:e.jsx(l,{from:0,to:99,duration:2.5,suffix:"%",easing:"power2.out",triggerOnScroll:!0})}),e.jsx("div",{style:t.statLabel,children:"Client Satisfaction"})]}),e.jsxs("div",{style:t.statCard,children:[e.jsx("div",{style:t.statValue,children:e.jsx(l,{from:0,to:24,duration:1.5,suffix:"/7",easing:"power2.out",triggerOnScroll:!0})}),e.jsx("div",{style:t.statLabel,children:"Support Available"})]})]})]}),e.jsxs("section",{style:t.codeSection,children:[e.jsx("h2",{style:t.codeSectionTitle,children:"The Technique"}),e.jsx("pre",{style:t.codeBlock,children:`// GSAP counter animation technique
// Animate an object property, update DOM in onUpdate

const counter = { val: 0 }

gsap.to(counter, {
  val: 1000,
  duration: 2,
  ease: 'power2.out',
  onUpdate: () => {
    // Update the display on every frame
    element.textContent = Math.round(counter.val)
  }
})

// With ScrollTrigger for scroll-based activation
gsap.to(counter, {
  val: 1000,
  scrollTrigger: {
    trigger: element,
    start: 'top 80%',
    toggleActions: 'play none none none'
  }
})`})]})]})]})}const t={container:{minHeight:"100vh",background:"#0a0a0a",color:"#fff",fontFamily:'"Inter", system-ui, sans-serif',padding:"2rem",paddingTop:"80px"},backButton:{position:"fixed",top:24,left:24,color:"rgba(255, 255, 255, 0.5)",textDecoration:"none",fontSize:14,fontWeight:500,zIndex:100},header:{textAlign:"center",marginBottom:"4rem",maxWidth:"600px",margin:"0 auto 4rem"},title:{fontSize:"clamp(2rem, 5vw, 3rem)",fontWeight:700,letterSpacing:"-0.03em",marginBottom:"1rem"},subtitle:{fontSize:"1rem",color:"rgba(255, 255, 255, 0.5)",lineHeight:1.6},demos:{display:"flex",flexDirection:"column",gap:"5rem",maxWidth:"900px",margin:"0 auto"},section:{padding:"2rem",background:"rgba(255, 255, 255, 0.02)",borderRadius:"16px",border:"1px solid rgba(255, 255, 255, 0.08)"},sectionHeader:{marginBottom:"2rem",textAlign:"center"},sectionNumber:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.3)",fontFamily:"monospace",letterSpacing:"0.1em",display:"block",marginBottom:"0.5rem"},sectionTitle:{fontSize:"1.25rem",fontWeight:600,marginBottom:"0.5rem"},sectionDesc:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.5)"},counterDisplay:{fontSize:"clamp(3rem, 10vw, 5rem)",fontWeight:700,textAlign:"center",padding:"2rem",fontVariantNumeric:"tabular-nums",letterSpacing:"-0.02em"},controls:{display:"flex",justifyContent:"center",gap:"1rem",marginTop:"1rem"},button:{padding:"0.875rem 1.75rem",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#fff",fontSize:"0.9rem",fontWeight:500,cursor:"pointer",transition:"all 0.3s ease",minHeight:"48px",minWidth:"140px"},easingOptions:{textAlign:"center",marginTop:"1.5rem"},label:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.4)",fontFamily:"monospace"},decimalGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"1.5rem",padding:"1rem 0"},decimalCard:{padding:"1.5rem",background:"rgba(255, 255, 255, 0.03)",borderRadius:"12px",textAlign:"center"},decimalLabel:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.4)",textTransform:"uppercase",letterSpacing:"0.1em",display:"block",marginBottom:"0.75rem"},odometerDisplay:{display:"flex",justifyContent:"center",padding:"2rem"},odometerContainer:{display:"flex",gap:"4px",background:"#111",padding:"1rem",borderRadius:"12px",border:"2px solid rgba(255, 255, 255, 0.1)"},odometerColumn:{width:"48px",height:"72px",overflow:"hidden",background:"#1a1a1a",borderRadius:"6px"},odometerDigits:{display:"flex",flexDirection:"column"},odometerDigit:{width:"48px",height:"72px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2.5rem",fontWeight:700,fontFamily:"monospace"},statsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1.5rem",marginTop:"2rem"},statCard:{padding:"1.5rem",background:"rgba(255, 255, 255, 0.03)",borderRadius:"12px",textAlign:"center",border:"1px solid rgba(255, 255, 255, 0.06)"},statValue:{fontSize:"2.5rem",fontWeight:700,marginBottom:"0.5rem",fontVariantNumeric:"tabular-nums"},statLabel:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)"},codeSection:{padding:"2rem",background:"rgba(255, 255, 255, 0.02)",borderRadius:"16px",border:"1px solid rgba(255, 255, 255, 0.08)"},codeSectionTitle:{fontSize:"1.25rem",fontWeight:600,marginBottom:"1.5rem",textAlign:"center"},codeBlock:{background:"rgba(0, 0, 0, 0.4)",padding:"1.5rem",borderRadius:"8px",fontSize:"0.8rem",overflow:"auto",fontFamily:"monospace",color:"rgba(255, 255, 255, 0.8)",lineHeight:1.6}};export{T as CounterLab,T as default};
