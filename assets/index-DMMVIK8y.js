import{j as e}from"./three-vendor-kjlaQlG4.js";import{r as a}from"./react-vendor-DWqy1xEj.js";import{g as p}from"./gsap-vendor-C8pce-KX.js";import{S as u}from"./ScrollTrigger-D1XJUMov.js";p.registerPlugin(u);const x=["https://picsum.photos/seed/zoom1/300/400","https://picsum.photos/seed/zoom2/300/400","https://picsum.photos/seed/zoom3/300/400","https://picsum.photos/seed/zoom4/300/400","https://picsum.photos/seed/zoom5/300/400","https://picsum.photos/seed/zoom6/300/400","https://picsum.photos/seed/zoom7/300/400","https://picsum.photos/seed/zoom8/300/400","https://picsum.photos/seed/zoom9/300/400","https://picsum.photos/seed/zoom10/300/400"],n="https://picsum.photos/seed/telescope-main/1920/1080";function y({leftText:h="explore the",rightText:d="unknown",layerCount:i=6}){const l=a.useRef(null),c=a.useRef([]),m=a.useRef([]);a.useEffect(()=>{const t=l.current;if(!t)return;const s=c.current.filter(Boolean),o=m.current.filter(Boolean),r=p.timeline({scrollTrigger:{trigger:t,start:"top top",end:"bottom top",scrub:!0,pin:!0}});return r.to(s,{z:"100vh",opacity:0,duration:1,ease:"power1.inOut",stagger:{amount:.2,from:"center"}},0),r.to(t,{"--progress":1,duration:1,ease:"power1.inOut"},0),r.to(o,{scale:1,duration:1,ease:"power1.inOut"},.4),r.to(o,{filter:"blur(0px)",duration:1,ease:"power1.inOut",stagger:{amount:.2,from:"end"}},.6),()=>{r.kill(),u.getAll().forEach(g=>g.kill())}},[]);const f=(t,s)=>[1,.85,.6,.45,.3,.15][t]||1-t/s*.85;return e.jsxs("div",{className:"layered-zoom-section",ref:l,style:{"--progress":0},children:[e.jsx("div",{className:"floating-images",children:x.map((t,s)=>e.jsx("img",{ref:o=>{o&&(c.current[s]=o)},src:t,alt:`Floating ${s+1}`,className:`floating-img floating-img-${s+1}`,loading:"lazy"},s))}),e.jsxs("div",{className:"media-container",children:[e.jsx("div",{className:"media-back",children:e.jsx("img",{src:n,alt:"Main visual"})}),Array.from({length:i}).map((t,s)=>e.jsx("div",{ref:o=>{o&&(m.current[s]=o)},className:"media-front",style:{transform:`scale(${f(s,i)})`,zIndex:i-s},children:e.jsx("img",{src:n,alt:`Layer ${s+1}`})},s))]}),e.jsxs("h1",{className:"split-text",children:[e.jsx("span",{className:"text-left",children:h}),e.jsx("span",{className:"text-right",children:d})]}),e.jsxs("div",{className:"scroll-indicator",children:[e.jsx("span",{children:"Scroll to explore"}),e.jsx("div",{className:"scroll-arrow",children:"â†“"})]})]})}export{y as LayeredZoomScroll,y as default};
