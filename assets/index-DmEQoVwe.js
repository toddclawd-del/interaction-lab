import{r as a,j as e,L as z}from"./index-Da2pC2Sx.js";import{g as l}from"./index-C8pce-KX.js";import{S as k}from"./ScrollTrigger-D1XJUMov.js";l.registerPlugin(k);const x=[{depth:.1,color:"#1a1a2e",shapes:3,size:"large"},{depth:.25,color:"#16213e",shapes:4,size:"medium"},{depth:.4,color:"#0f3460",shapes:5,size:"medium"},{depth:.6,color:"#533483",shapes:4,size:"small"},{depth:.8,color:"#6366f1",shapes:6,size:"small"},{depth:1,color:"#ec4899",shapes:3,size:"tiny"}];function M(){const f=a.useRef(null),h=a.useRef(null),y=a.useRef([]),p=a.useRef({x:0,y:0}),[m,v]=a.useState(!0);a.useEffect(()=>{if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;const s=l.context(()=>{const o=h.current,d=y.current.filter(Boolean);if(!o)return;const c=n=>{const i=o.getBoundingClientRect();p.current={x:((n.clientX-i.left)/i.width-.5)*2,y:((n.clientY-i.top)/i.height-.5)*2}};return o.addEventListener("mousemove",c),l.ticker.add(()=>{d.forEach((n,i)=>{if(!n)return;const u=x[i].depth,g=p.current.x*50*u,S=p.current.y*30*u;l.to(n,{x:g,y:S,duration:.5,ease:"power2.out"})})}),d.forEach((n,i)=>{if(!n)return;const g=100*(1-x[i].depth);l.to(n,{yPercent:-g,ease:"none",scrollTrigger:{trigger:h.current,start:"top bottom",end:"bottom top",scrub:1}})}),()=>{o.removeEventListener("mousemove",c)}},f);return()=>s.revert()},[]);const b=r=>Array.from({length:r},()=>({left:`${Math.random()*80+10}%`,top:`${Math.random()*80+10}%`,rotate:Math.random()*360})),j=r=>{switch(r){case"large":return Math.random()*100+150;case"medium":return Math.random()*60+80;case"small":return Math.random()*40+40;case"tiny":return Math.random()*20+20;default:return 50}};return e.jsxs("div",{ref:f,style:t.container,children:[e.jsx(z,{to:"/",style:t.backButton,children:"‚Üê Back"}),e.jsxs("header",{style:t.header,children:[e.jsx("h1",{style:t.title,children:"Parallax Depth"}),e.jsx("p",{style:t.subtitle,children:"Move your mouse and scroll to see 6 layers of parallax depth"}),e.jsxs("label",{style:t.toggle,children:[e.jsx("input",{type:"checkbox",checked:m,onChange:r=>v(r.target.checked),style:{marginRight:"0.5rem"}}),"3D Perspective"]})]}),e.jsxs("section",{ref:h,style:{...t.scene,perspective:m?"1000px":"none"},children:[x.map((r,s)=>e.jsxs("div",{ref:o=>{y.current[s]=o},style:{...t.layer,zIndex:s,transform:m?`translateZ(${-s*50}px)`:"none"},children:[b(r.shapes).map((o,d)=>{const c=j(r.size),n=Math.random()>.5;return e.jsx("div",{style:{position:"absolute",left:o.left,top:o.top,width:c,height:c,background:r.color,borderRadius:n?"50%":"8px",transform:`rotate(${o.rotate}deg)`,opacity:.8-s*.1,boxShadow:`0 10px 40px ${r.color}66`}},d)}),e.jsxs("div",{style:{...t.layerLabel,color:r.color},children:["Layer ",s+1," ‚Ä¢ Depth: ",r.depth]})]},s)),e.jsxs("div",{style:t.centerContent,children:[e.jsx("h2",{style:t.centerTitle,children:"Depth"}),e.jsx("p",{style:t.centerSubtitle,children:"Move your mouse around"})]})]}),e.jsx("section",{style:t.scrollSpace,children:e.jsxs("div",{style:t.scrollContent,children:[e.jsx("h2",{children:"Keep Scrolling"}),e.jsx("p",{children:"Watch how each layer moves at different speeds as you scroll. Background layers move slower, creating depth."})]})}),e.jsxs("section",{style:t.techSection,children:[e.jsx("h2",{style:t.techTitle,children:"The Technique"}),e.jsxs("div",{style:t.techGrid,children:[e.jsxs("div",{style:t.techCard,children:[e.jsx("span",{style:t.techIcon,children:"üñ±Ô∏è"}),e.jsx("h3",{children:"Mouse Parallax"}),e.jsx("p",{children:"Track mouse position, normalize to -1 to 1 range, multiply by depth factor for each layer."}),e.jsx("pre",{style:t.code,children:`moveX = mouse.x * 50 * depth
moveY = mouse.y * 30 * depth`})]}),e.jsxs("div",{style:t.techCard,children:[e.jsx("span",{style:t.techIcon,children:"üìú"}),e.jsx("h3",{children:"Scroll Parallax"}),e.jsx("p",{children:"Use ScrollTrigger scrub to move layers at different rates. Deeper layers (lower depth) move slower."}),e.jsx("pre",{style:t.code,children:`scrollSpeed = 100 * (1 - depth)
// depth 0.1 ‚Üí speed 90
// depth 1.0 ‚Üí speed 0`})]}),e.jsxs("div",{style:t.techCard,children:[e.jsx("span",{style:t.techIcon,children:"üé≠"}),e.jsx("h3",{children:"3D Perspective"}),e.jsx("p",{children:"CSS perspective on container + translateZ on layers creates true 3D depth stacking."}),e.jsx("pre",{style:t.code,children:`container: perspective: 1000px
layer: translateZ(-n * 50px)`})]})]})]})]})}const t={container:{minHeight:"300vh",background:"#0a0a0a",color:"#fff",fontFamily:'"Inter", system-ui, sans-serif'},backButton:{position:"fixed",top:24,left:24,color:"rgba(255, 255, 255, 0.5)",textDecoration:"none",fontSize:14,fontWeight:500,zIndex:100},header:{textAlign:"center",padding:"80px 2rem 2rem",maxWidth:"600px",margin:"0 auto"},title:{fontSize:"clamp(2rem, 5vw, 3rem)",fontWeight:700,letterSpacing:"-0.03em",marginBottom:"1rem"},subtitle:{fontSize:"1rem",color:"rgba(255, 255, 255, 0.5)",lineHeight:1.6,marginBottom:"1rem"},toggle:{display:"inline-flex",alignItems:"center",fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.6)",cursor:"pointer"},scene:{position:"relative",height:"100vh",overflow:"hidden",transformStyle:"preserve-3d"},layer:{position:"absolute",inset:0,pointerEvents:"none"},layerLabel:{position:"absolute",bottom:"1rem",left:"1rem",fontSize:"0.7rem",fontFamily:"monospace",opacity:.5},centerContent:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",zIndex:100,pointerEvents:"none"},centerTitle:{fontSize:"clamp(4rem, 15vw, 10rem)",fontWeight:800,letterSpacing:"-0.05em",background:"linear-gradient(135deg, #fff 0%, rgba(255,255,255,0.4) 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 20px 60px rgba(0,0,0,0.5)"},centerSubtitle:{fontSize:"1rem",color:"rgba(255, 255, 255, 0.5)",marginTop:"1rem"},scrollSpace:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"4rem 2rem"},scrollContent:{textAlign:"center",maxWidth:"600px"},techSection:{padding:"6rem 2rem",maxWidth:"1000px",margin:"0 auto"},techTitle:{fontSize:"2rem",fontWeight:700,textAlign:"center",marginBottom:"3rem"},techGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"1.5rem"},techCard:{padding:"1.5rem",background:"rgba(255, 255, 255, 0.03)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.08)"},techIcon:{fontSize:"2rem",display:"block",marginBottom:"1rem"},code:{background:"rgba(0, 0, 0, 0.3)",padding:"0.75rem",borderRadius:"6px",fontSize:"0.75rem",fontFamily:"monospace",color:"rgba(255, 255, 255, 0.7)",marginTop:"1rem",overflow:"auto"}};export{M as ParallaxDepth,M as default};
