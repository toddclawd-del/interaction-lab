import{j as e}from"./three-vendor-CgYOwSjb.js";import{r as t}from"./react-vendor-DtyY8K5c.js";function y({columns:r=40,fadeDuration:l=600,colorMode:u="mono",baseColor:d="#ffffff",text:f="PIXELS",subText:b="move your cursor"}){const x=t.useRef(null),[C,m]=t.useState(0),h=t.useRef(0),c=t.useRef(0),[p,j]=t.useState(0);t.useEffect(()=>{const o=()=>{const n=window.innerWidth,v=window.innerHeight,g=n/r,w=Math.ceil(v/g);m(r*w)};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[r]);const s=t.useCallback(o=>{switch(u){case"rainbow":{const n=o%r,v=Math.floor(o/r);return`hsl(${(n+v*2)*7%360}, 100%, 60%)`}case"gradient":return h.current=(h.current+3)%360,`hsl(${h.current}, 100%, 60%)`;default:return d}},[u,d,r]),a=t.useCallback(o=>{const n=o.currentTarget,v=parseInt(n.dataset.index||"0"),g=s(v);n.style.backgroundColor=g,n.classList.add("active"),c.current++,j(c.current),setTimeout(()=>{n.style.backgroundColor="transparent",n.classList.remove("active"),c.current--,j(c.current)},l)},[s,l]),i=Array.from({length:C},(o,n)=>e.jsx("div",{"data-index":n,className:"pixel",onMouseEnter:a},n));return e.jsxs("div",{className:"pixel-cursor-trail",children:[e.jsx("div",{ref:x,className:"pixel-grid",style:{gridTemplateColumns:`repeat(${r}, 1fr)`,"--fade-duration":`${l}ms`,"--base-color":d},children:i}),e.jsxs("div",{className:"content-overlay",children:[e.jsx("h1",{className:"main-text",children:f}),e.jsx("p",{className:"sub-text",children:b})]}),e.jsxs("div",{className:"pixel-counter",children:[e.jsx("span",{className:"count",children:p}),e.jsx("span",{className:"label",children:"active"})]})]})}const N={mono:{label:"Mono",color:"#ffffff"},cyan:{label:"Cyan",color:"#00ffff"},magenta:{label:"Magenta",color:"#ff00ff"},lime:{label:"Lime",color:"#00ff00"},orange:{label:"Orange",color:"#ff6600"}};function E(){const[r,l]=t.useState("mono"),[u,d]=t.useState("#ffffff"),[f,b]=t.useState(50),[x,C]=t.useState(800),[m,h]=t.useState(!0),[c,p]=t.useState(0),j=s=>{d(N[s].color),l("mono")};return e.jsxs("div",{className:"demo-container",children:[e.jsx(y,{columns:f,fadeDuration:x,colorMode:r,baseColor:u,text:"PIXELS",subText:"move your cursor"},c),e.jsx("a",{href:"#/",className:"back-button",children:"← Back"}),e.jsx("button",{className:"toggle-controls",onClick:()=>h(!m),children:m?"✕":"⚙"}),m&&e.jsxs("div",{className:"control-panel",children:[e.jsx("h3",{children:"Pixel Trail"}),e.jsxs("div",{className:"control-group",children:[e.jsx("label",{children:"Color Mode"}),e.jsx("div",{className:"button-group",children:["mono","rainbow","gradient"].map(s=>e.jsx("button",{className:r===s?"active":"",onClick:()=>l(s),children:s},s))})]}),r==="mono"&&e.jsxs("div",{className:"control-group",children:[e.jsx("label",{children:"Presets"}),e.jsx("div",{className:"button-group presets",children:Object.entries(N).map(([s,{label:a,color:i}])=>e.jsx("button",{className:u===i?"active":"",style:{"--preset-color":i,background:i==="#ffffff"?void 0:i},onClick:()=>j(s),children:a},s))})]}),e.jsxs("div",{className:"control-group",children:[e.jsxs("label",{children:["Grid Density: ",f]}),e.jsx("input",{type:"range",min:"20",max:"80",value:f,onChange:s=>{b(parseInt(s.target.value)),p(a=>a+1)}})]}),e.jsxs("div",{className:"control-group",children:[e.jsxs("label",{children:["Fade Duration: ",x,"ms"]}),e.jsx("input",{type:"range",min:"200",max:"2000",step:"100",value:x,onChange:s=>{C(parseInt(s.target.value)),p(a=>a+1)}})]}),e.jsx("button",{className:"reset-button",onClick:()=>p(s=>s+1),children:"Reset Grid"})]})]})}export{E as default};
