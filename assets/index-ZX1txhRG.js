var w=Object.defineProperty;var v=(p,t,e)=>t in p?w(p,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):p[t]=e;var n=(p,t,e)=>v(p,typeof t!="symbol"?t+"":t,e);import{r as g,j as r,L as b}from"./index-CUd0y5HU.js";import{g as c}from"./index-C8pce-KX.js";import{S as f}from"./ScrollTrigger-D1XJUMov.js";import{L as S}from"./lenis-DTHSWqDp.js";c.registerPlugin(f);class T{constructor(t,e={}){n(this,"wrapper");n(this,"config");n(this,"currentImage",null);n(this,"leftColumn",null);n(this,"rightColumn",null);n(this,"leftTexts",[]);n(this,"rightTexts",[]);n(this,"thumbnail",null);n(this,"leftQuickSetters",[]);n(this,"rightQuickSetters",[]);n(this,"leftRange",{minX:0,maxX:0});n(this,"rightRange",{minX:0,maxX:0});n(this,"scrollTrigger",null);n(this,"resizeHandler",null);var a,o;this.wrapper=t instanceof HTMLElement?t:document.querySelector(t);const i=(a=this.wrapper)!=null&&a.dataset.waveNumber?parseFloat(this.wrapper.dataset.waveNumber):12,s=(o=this.wrapper)!=null&&o.dataset.waveSpeed?parseFloat(this.wrapper.dataset.waveSpeed):1;this.config={waveNumber:i,waveSpeed:s,...e}}init(){if(!this.wrapper){console.warn("[DualWaveAnimation] Wrapper not found");return}if(this.leftColumn=this.wrapper.querySelector(".wave-column-left"),this.rightColumn=this.wrapper.querySelector(".wave-column-right"),!this.leftColumn||!this.rightColumn){console.warn("[DualWaveAnimation] Columns not found");return}this.setupAnimation()}setupAnimation(){if(this.leftTexts=c.utils.toArray(this.leftColumn.querySelectorAll(".animated-text")),this.rightTexts=c.utils.toArray(this.rightColumn.querySelectorAll(".animated-text")),this.thumbnail=this.wrapper.querySelector(".image-thumbnail"),this.leftTexts.length===0||this.rightTexts.length===0){console.warn("[DualWaveAnimation] No text elements found");return}this.leftQuickSetters=this.leftTexts.map(t=>c.quickTo(t,"x",{duration:.6,ease:"power4.out"})),this.rightQuickSetters=this.rightTexts.map(t=>c.quickTo(t,"x",{duration:.6,ease:"power4.out"})),this.calculateRanges(),this.setInitialPositions(this.leftTexts,this.leftRange,1),this.setInitialPositions(this.rightTexts,this.rightRange,-1),this.setupScrollTrigger(),this.resizeHandler=()=>this.calculateRanges(),window.addEventListener("resize",this.resizeHandler)}calculateRanges(){const t=Math.max(...this.leftTexts.map(i=>i.offsetWidth)),e=Math.max(...this.rightTexts.map(i=>i.offsetWidth));this.leftRange={minX:0,maxX:this.leftColumn.offsetWidth-t},this.rightRange={minX:0,maxX:this.rightColumn.offsetWidth-e}}setInitialPositions(t,e,i){const s=e.maxX-e.minX;t.forEach((a,o)=>{const h=this.config.waveNumber*o-Math.PI/2,m=(Math.sin(h)+1)/2,d=(e.minX+m*s)*i;c.set(a,{x:d})})}setupScrollTrigger(){this.scrollTrigger=f.create({trigger:this.wrapper,start:"top bottom",end:"bottom top",onUpdate:t=>this.handleScroll(t)})}handleScroll(t){const e=t.progress,i=this.findClosestToViewportCenter();this.updateColumn(this.leftTexts,this.leftQuickSetters,this.leftRange,e,i,1),this.updateColumn(this.rightTexts,this.rightQuickSetters,this.rightRange,e,i,-1);const s=this.leftTexts[i];this.updateThumbnail(s)}updateColumn(t,e,i,s,a,o){const h=i.maxX-i.minX;t.forEach((u,m)=>{const d=this.calculateWavePosition(m,s,i.minX,h)*o;e[m](d),m===a?u.classList.add("focused"):u.classList.remove("focused")})}calculateWavePosition(t,e,i,s){const a=this.config.waveNumber*t+this.config.waveSpeed*e*Math.PI*2-Math.PI/2,h=(Math.sin(a)+1)/2;return i+h*s}findClosestToViewportCenter(){const t=window.innerHeight/2;let e=0,i=1/0;return this.leftTexts.forEach((s,a)=>{const o=s.getBoundingClientRect(),h=o.top+o.height/2,u=Math.abs(h-t);u<i&&(i=u,e=a)}),e}updateThumbnail(t){if(!this.thumbnail||!t)return;const e=t.dataset.image;e&&this.currentImage!==e&&(this.currentImage=e,this.thumbnail.src=e);const i=this.wrapper.getBoundingClientRect(),s=window.innerHeight/2,a=this.thumbnail.offsetHeight,o=this.wrapper.offsetHeight,h=s-i.top-a/2,u=-a/2,m=o-a/2,d=Math.max(u,Math.min(m,h));c.set(this.thumbnail,{y:d})}destroy(){this.scrollTrigger&&this.scrollTrigger.kill(),this.resizeHandler&&window.removeEventListener("resize",this.resizeHandler)}}c.registerPlugin(f);const x=[{product:"Volt R2",brand:"Tesla",image:"https://picsum.photos/seed/tesla/400/500"},{product:"Éclat",brand:"Chanel",image:"https://picsum.photos/seed/chanel/400/500"},{product:"Project Ion",brand:"Apple",image:"https://picsum.photos/seed/apple/400/500"},{product:"AeroLine",brand:"BMW",image:"https://picsum.photos/seed/bmw/400/500"},{product:"Série Noir",brand:"Saint Laurent",image:"https://picsum.photos/seed/ysl/400/500"},{product:"UltraRun",brand:"Nike",image:"https://picsum.photos/seed/nike/400/500"},{product:"Atelier 03",brand:"Hermès",image:"https://picsum.photos/seed/hermes/400/500"},{product:"Pulse One",brand:"Adidas",image:"https://picsum.photos/seed/adidas/400/500"},{product:"Linea 24",brand:"Prada",image:"https://picsum.photos/seed/prada/400/500"},{product:"Echo Series",brand:"Google",image:"https://picsum.photos/seed/google/400/500"},{product:"Zero",brand:"Polestar",image:"https://picsum.photos/seed/polestar/400/500"},{product:"Shift/Black",brand:"Balenciaga",image:"https://picsum.photos/seed/balenciaga/400/500"},{product:"Solar Drift",brand:"Audi",image:"https://picsum.photos/seed/audi/400/500"},{product:"Nº 27",brand:"Valentino",image:"https://picsum.photos/seed/valentino/400/500"},{product:"Mode/3",brand:"Samsung",image:"https://picsum.photos/seed/samsung/400/500"},{product:"Pure Form",brand:"Bottega Veneta",image:"https://picsum.photos/seed/bottega/400/500"},{product:"Edge",brand:"Sony",image:"https://picsum.photos/seed/sony/400/500"},{product:"Stillwater",brand:"Aesop",image:"https://picsum.photos/seed/aesop/400/500"},{product:"Parfum Nº8",brand:"Dior",image:"https://picsum.photos/seed/dior/400/500"},{product:"Vantage",brand:"Porsche",image:"https://picsum.photos/seed/porsche/400/500"}];function P(){const p=g.useRef(null),t=g.useRef(null),e=g.useRef(null),i=g.useRef(null);return g.useEffect(()=>(e.current=new S({duration:1.5,smoothWheel:!0,wheelMultiplier:1,touchMultiplier:1.5}),e.current.on("scroll",f.update),c.ticker.add(s=>{var a;(a=e.current)==null||a.raf(s*1e3)}),c.ticker.lagSmoothing(0),t.current&&(i.current=new T(t.current,{waveNumber:12,waveSpeed:1}),i.current.init()),()=>{var s,a;(s=i.current)==null||s.destroy(),(a=e.current)==null||a.destroy(),c.ticker.remove(()=>{})}),[]),r.jsxs("div",{ref:p,style:l.container,children:[r.jsx(b,{to:"/",style:l.backButton,children:"← Back"}),r.jsx("div",{style:l.spacer}),r.jsxs("div",{ref:t,className:"dual-wave-wrapper","data-wave-number":"12","data-wave-speed":"1",style:l.waveWrapper,children:[r.jsx("div",{className:"wave-column wave-column-left",style:l.columnLeft,children:x.map(s=>r.jsx("div",{className:"animated-text","data-image":s.image,style:l.animatedText,children:s.product},s.product))}),r.jsx("div",{style:l.thumbnailWrapper,children:r.jsx("img",{src:x[0].image,alt:"Campaign",className:"image-thumbnail",style:l.thumbnail})}),r.jsx("div",{className:"wave-column wave-column-right",style:l.columnRight,children:x.map(s=>r.jsx("div",{className:"animated-text",style:l.animatedText,children:s.brand},s.brand))})]}),r.jsx("div",{style:l.spacer}),r.jsx("div",{style:l.branding,children:"DUAL WAVE TEXT"}),r.jsx("style",{children:`
        .animated-text {
          color: #4d4d4d;
          transition: color 300ms ease-out;
        }
        .animated-text.focused {
          color: #fff;
        }
        
        /* Mobile adjustments */
        @media (max-width: 768px) {
          .wave-column {
            font-size: 5vw !important;
            gap: 2rem !important;
          }
          .dual-wave-wrapper {
            gap: 8vw !important;
          }
        }
      `})]})}const l={container:{minHeight:"100vh",background:"#0a0a0a",fontFamily:"Inter, system-ui, -apple-system, sans-serif",position:"relative",overflowX:"hidden"},backButton:{position:"fixed",top:24,left:24,color:"rgba(255,255,255,0.5)",textDecoration:"none",fontSize:14,fontWeight:500,zIndex:100,transition:"color 0.2s ease"},spacer:{height:"75vh"},waveWrapper:{display:"flex",width:"100%",position:"relative",gap:"20vw",padding:"0 4vw",boxSizing:"border-box"},columnLeft:{flex:1,display:"flex",flexDirection:"column",gap:"1.25rem",fontSize:"clamp(1.5rem, 4vw, 3rem)",fontWeight:400,lineHeight:.9,position:"relative",zIndex:10,alignItems:"flex-start",textTransform:"uppercase",letterSpacing:"-0.02em"},columnRight:{flex:1,display:"flex",flexDirection:"column",gap:"1.25rem",fontSize:"clamp(1.5rem, 4vw, 3rem)",fontWeight:400,lineHeight:.9,position:"relative",zIndex:10,alignItems:"flex-end",textTransform:"uppercase",letterSpacing:"-0.02em"},animatedText:{width:"max-content",cursor:"default",userSelect:"none"},thumbnailWrapper:{position:"absolute",top:0,left:"50%",transform:"translateX(-50%)",width:"15vw",minWidth:120,maxWidth:200,height:"auto",zIndex:1,pointerEvents:"none",display:"flex",justifyContent:"center",alignItems:"flex-start"},thumbnail:{width:"100%",height:"auto",maxHeight:"30vh",objectFit:"cover",borderRadius:8,opacity:.9},branding:{position:"fixed",top:24,right:24,color:"rgba(255,255,255,0.3)",fontFamily:"monospace",fontSize:10,letterSpacing:"0.1em",pointerEvents:"none",userSelect:"none"}};export{P as DualWaveText,P as default};
